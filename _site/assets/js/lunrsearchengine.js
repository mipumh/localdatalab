
var documents = [{
    "id": 0,
    "url": "http://localhost:4000/404.html",
    "title": "404",
    "body": "Black Hole 404Esta p√°gina no existe, se la ha tragado el agujero negro.  Por favor, vuelva por la estela que le trajo hasta este rinc√≥n de la galaxia o suba a la nave por aqu√≠.  "
    }, {
    "id": 1,
    "url": "http://localhost:4000/equipo",
    "title": "¬øQui√©nes somos?",
    "body": "    Local Data Lab es un grupo de trabajo compuesto por profesionales, profesores y alumnos de Periodismo de la Universidad Miguel Hern√°ndez. Nacimos en febrero de 2019 con el fin de descubrir y poner en pr√°ctica el potencial del periodismo de datos en el √°mbito local.   Estamos convencidos de que es posible y necesario obtener, analizar y visualizar informaci√≥n de manera rigurosa, relevante y √∫til en nuestro entorno m√°s cercano. Creemos en la transparencia (ajena y propia), nos encanta trastear con cualquier tecnolog√≠a, buscamos destapar buenas historias y aspiramos a contarlas de la mejor manera posible.  Hemos arrancado con los datos de la marat√≥n electoral de 2019, con el foco en los resultados y la campa√±a de las elecciones generales y locales en Elche. Pero despu√©s seguiremos analizando a fondo cuestiones como la vivienda, el transporte, la seguridad o el medio ambiente.        Organizadores   M√°ster Periodismo Periodismo UMH       	    F√©lix Arias:     Profesor en @periodismoumh y subdirector del @mipumh. Ense√±o y aprendo sobre periodismo de datos y nuevas narrativas.      	    Miguel Carvajal:     Profesor en @PeriodismoUMH y director del @mipumh. Leo y escribo sobre innovaci√≥n y modelos de negocio en el periodismo.      	    Chema Valero:     Personal Investigador en innovaci√≥n en periodismo en @UniversidadMH. Jefe de prensa del @Orihuela_cf. Colaborador en @xataka.      	    Claudia Saumell:     Ser√†s aquella que vas voler ser/ Periodismo UMHüì∞      	    Irene C. Reig:     #Periodista entre redes sociales y micr√≥fonos de #radio. Mel√≥mana del #britpop y #cin√©fila. Voluntaria en #DiversidadFuncional.      	    D√°maso Mond√©jar:     Estudiante de Periodismo en la Universidad Miguel Hern√°ndez      	    Elpidio del Campo:     Profesor en @cauumh y @PeriodismoUMH. Profesor e investigador #cinema, #documentary_photography, #data_visualization      	    Tamara Garc√≠a:     Estudiante de @PeriodismoUMH y redactora en @UMHSapiens      	    Enrique Fern√°ndez:     @PeriodismoUMH  Cuando se descubri√≥ que la informaci√≥n era un negocio, la verdad dejo de ser importante . Ryszard Kapu≈õci≈Ñski  "
    }, {
    "id": 2,
    "url": "http://localhost:4000/categories",
    "title": "Categor√≠as",
    "body": ""
    }, {
    "id": 3,
    "url": "http://localhost:4000/",
    "title": "Inicio",
    "body": " As√≠ han sido las elecciones en Elche hasta ahoraPublicamos los an√°lisis tras las elecciones de 2019: a partir de las generales y aut√≥nomicas del 28A y, sobre todo, de las municipales del 26M. S√≠guelos en#hist√≥rico, #discurso, #redes y #programas. En #resultados       Historias:                                                                                                               VOX es el partido que m√°s crece en Twitter              :       Tanto la cuenta en Twitter de VOX como la de Santiago Abascal lideran el ranking de seguidores ganados semanalmente frente al resto de partidos que se presentan a las Elecciones. . . :                                                                  Irene C. Reig                15 Apr 2019                                                                                                                                              La carrera electoral que se juega en Facebook              :       Las redes sociales juegan un papel muy importante en la carrera electoral de los partidos, pero en algunas ocasiones los resultados reales distan mucho de la popularidad de los pol√≠ticos. . . :                                                                  LocalDataLab                12 Apr 2019                                                                                                                                              Prueba para tabla Elche con Bokeh              :       Lorem ipsum dolor sit amet, consectetur adipiscing elit. In elit enim, venenatis eu convallis et, viverra at arcu. Fusce tincidunt sapien sit amet massa venenatis, eu scelerisque ante elementum. Vestibulum. . . :                                                                  LocalDataLab                11 Apr 2019                                                                                                                                              La izquierda pierde con la edad              :       Los resultados electorales de las √∫ltimas cuatro elecciones generales en Elche reflejan la influencia de la edad. Los votos, analizados por secciones censales, constatan que en las zonas con mayor. . . :                                                                  LocalDataLab                11 Apr 2019                                                       "
    }, {
    "id": 4,
    "url": "http://localhost:4000/robots.txt",
    "title": "",
    "body": "      Sitemap: {{ ‚Äúsitemap. xml‚Äù   absolute_url }}   "
    }, {
    "id": 5,
    "url": "http://localhost:4000/voz-crece-twitter/",
    "title": "VOX es el partido que m√°s crece en Twitter",
    "body": "2019/04/15 - Tanto la cuenta en Twitter de VOX como la de Santiago Abascal lideran el ranking de seguidores ganados semanalmente frente al resto de partidos que se presentan a las Elecciones Generales del 28A. VOX ha obtenido estos √∫ltimos siete d√≠as 3. 680 seguidores, una cifra mayor a las del resto, a pesar de reducir su cantidad la segunda semana de marzo. Desde que Pedro S√°nchez decidi√≥ disolver Las Cortes Generales y convocar elecciones el pasado 4 de marzo, seg√∫n la fecha de publicaci√≥n en el BOE), el n√∫mero de seguidores en las cuentas de los cinco partidos principales y la de sus l√≠deres ha aumentado progresivamente durante la precampa√±a y la campa√±a electoral, iniciada el pasado 11 de abril. VOX suma 3. 662 followers en campa√±a electoral: La cuenta de Twitter de Santiago Abascal, desde el inicio de la precampa√±a hasta esta √∫ltima semana, inicio de la campa√±a electoral el pasado 11 de abril, se posiciona la primera entre el resto de l√≠deres con un total de 3. 362 followers. Desde el √∫ltimo lugar, Pablo Iglesias, l√≠der de PODEMOS, adelanta a lo largo de estos meses a todos sus oponentes hasta situarse en segundo puesto con un total de 2. 926 seguidores semanales ganados. Pablo Casado mantiene sus cifras hasta el inicio de campa√±a, momento en el que Iglesias le adelanta. Los √∫ltimos en el ranking son Pedro S√°nchez y Albert Rivera. La izquierda adelanta en el ranking: Durante la primera semana de precampa√±a, las cuentas oficiales de PSOE y PODEMOS comenzaron con un aumento de seguidores semanales menor al de Ciudadanos y PP hasta alcanzar niveles m√°s elevados. El PSOE, El PSOE, a partir de la segunda semana de precampa√±a, comienza a aumentar sus cifras hasta posicionarse en segundo puesto. Asimismo, PODEMOS, en cuarto lugar inicialmente, crece hasta alcanzar el tercer puesto actual. En contraste, Ciudadanos es el partido que menos ha visto aumentar su n√∫mero de seguidores desde el 4 marzo hasta la actualidad. Comenz√≥ en un segundo puesto al inicio de precampa√±a hasta descender dr√°sticamente, con un ligero aumento de los seguidores la semana previa al inicio de campa√±a, hasta posicionarse el pen√∫ltimo. El PP queda relegado a los √∫ltimos puestos, descendiendo el n√∫mero de seguidores semanales progresivamente hasta situarse en √∫ltimo puesto. Pablo Iglesias y PODEMOS, l√≠deres totales: A pesar del notable aumento en los seguidores de VOX y Abascal, son las cuentas de Pablo Iglesias y PODEMOS las que m√°s seguidores poseen. Las actividades de activefollowing y unfollowing permiten a las cuentas de Twitter aumentar su n√∫mero de seguidores a la vez que disminuyen aquellos a los que siguen. Un comportamiento susceptible para la captaci√≥n de nuevos simpatizantes. Los followers totales se obtienen de la diferencia entre el n√∫mero de seguidores y aquellas cuentas que dejan de seguir, los unfollowers. As√≠, Pablo Iglesias, junto a su partido, lidera el n√∫mero de seguidores en Twitter, con un total de 2. 2 M y 1. 3 M, respectivamente.  Nota metodol√≥gica:  Los datos sobre el n√∫mero de seguidores de los principales partidos pol√≠ticos y sus l√≠deres, empleados en este an√°lisis, proceden de la herramienta de anal√≠tica de medici√≥n web y RRSS Socialblade.  En cuanto a la realizaci√≥n del ranking del aumento de seguidores, la informaci√≥n obtenida de Socialblade para la obtenci√≥n de los gr√°ficos se traspas√≥ a un documento de Excel, dividido en dos hojas, para extraer dos principales variables: el n√∫mero de seguidores de los partidos y el n√∫mero de seguidores de los candidatos a presidente. A partir de ellas se ha llevado a cabo la obtenci√≥n del n√∫mero total de seguidores por semana, a trav√©s de la suma de los seguidores diarios de todas las cuentas (partidos y candidatos) desde el 4 de marzo hasta el domingo 14 de abril.  Para la obtenci√≥n del n√∫mero de seguidores de cada partido, se recogieron los datos de Socialblade en una hoja de Excel diferente donde se mostraban los followers de cada cuenta (partidos y candidatos).  El an√°lisis de los datos se realiz√≥ con Excel y Google Spreadsheet. Las visualizaciones de gr√°ficos interactivos se materializaron con Flourish. Todos los datos empleados se pueden descargar en esta hoja de c√°lculo. "
    }, {
    "id": 6,
    "url": "http://localhost:4000/carrera-electoral-se-juega-en-facebook/",
    "title": "La carrera electoral que se juega en Facebook",
    "body": "2019/04/12 - Las redes sociales juegan un papel muy importante en la carrera electoral de los partidos, pero en algunas ocasiones los resultados reales distan mucho de la popularidad de los pol√≠ticos en la red. Las redes sociales ya son una parte importante de la vida de los ciudadanos, y los pol√≠ticos lo saben. Por ello cada vez les dedican m√°s tiempo y cuidado. Facebook juega un papel importante en la comunicaci√≥n, pero el partido m√°s votado no siempre es el que m√°s seguidores re√∫ne en redes sociales. Si comparamos los seguidores en la red social Facebook que tienen cada partido y candidato nos daremos cuenta de que unos destacan m√°s que otros. En cuanto a partidos, Podemos es el que cuenta con m√°s seguidores, seguido de Ciudadanos y Vox. El l√≠der de la formaci√≥n morada tambi√©n es el candidato con m√°s seguidores, le sigue Ciudadanos y Esquerra Republicana. La media de menciones a los partidos ganan en n√∫mero a los candidatos. La alusiones en esta red social se hacen con m√°s regularidad a las formaciones pol√≠ticas, lo que les dota de mayor peso. El √∫nico candidato que supera en alusiones a su partido es Gabriel Rufi√°n, y el partido que m√°s menciones en relaci√≥n a su candidato genera es Vox. Los videos son la herramienta m√°s usada por nuestros pol√≠ticos para comunicarse con los ciudadanos. Tanto es as√≠, que los seis partidos analizados les dan mucho peso en sus redes. A la hora de comunicarse mediante escritos, Esquerra y Unidas Podemos les dan mucho m√°s valor que el resto de formaciones, seguidos de Vox. La fotograf√≠as tambi√©n son un recurso bastante extendido, menos en la formaci√≥n naranja. Ciudadanos √∫nicamente invierte un 11% en fotos del total de su contenido en Facebook. Por Claudia Saumell y Enrique M√°s. "
    }, {
    "id": 7,
    "url": "http://localhost:4000/prueba-mapas-bokeh/",
    "title": "Prueba para tabla Elche con Bokeh",
    "body": "2019/04/11 - Lorem ipsum dolor sit amet, consectetur adipiscing elit. In elit enim, venenatis eu convallis et, viverra at arcu. Fusce tincidunt sapien sit amet massa venenatis, eu scelerisque ante elementum. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; In eu velit in ligula mollis efficitur sed vitae felis. Duis accumsan enim nec viverra rutrum. Integer id justo eget nulla tincidunt blandit eget in diam. Integer at ante elit. Duis ac mi eu ligula imperdiet dictum. Mauris mattis fringilla ligula at volutpat. In ac bibendum dolor. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Suspendisse molestie venenatis lacinia. Sed scelerisque vehicula vulputate. Mauris nibh ex, ornare eu interdum id, pretium pellentesque ex. Duis sed accumsan sapien. Ut quis fringilla eros. Nunc a ex dui. Proin aliquam nisi vitae euismod imperdiet. Fusce congue purus at sollicitudin ultrices. Donec non dapibus dolor, quis malesuada massa. Curabitur tempor, purus id tincidunt auctor, quam tellus viverra nisi, eu bibendum augue lacus eget augue. Aliquam condimentum auctor nisi ac interdum. Curabitur vestibulum sem sed maximus tincidunt. Quisque ultrices, libero vitae elementum tincidunt, sem erat dignissim odio, in dictum sem quam in velit. Sed id urna consequat, mollis est in, tincidunt diam. Etiam sollicitudin, arcu sit amet malesuada luctus, ligula mi pulvinar risus, a venenatis sem diam id nulla. Vivamus aliquet massa non mauris condimentum, vitae lobortis mi pharetra. Nulla rhoncus iaculis est, quis blandit sapien porta nec. Etiam a tristique ligula, nec semper arcu. Proin malesuada mi lacus, id semper metus accumsan non. Sed sem mauris, accumsan ut orci et, placerat semper neque. Nulla ut augue nunc. Praesent leo tellus, mollis sit amet turpis eu, condimentum scelerisque ipsum. Vestibulum quis diam ultrices, ullamcorper tortor at, rutrum magna. Morbi et volutpat urna, id semper erat. Etiam condimentum leo non lorem varius, eget interdum ex tincidunt. Aenean et aliquet lorem. Nulla molestie congue laoreet. Vivamus suscipit congue tellus, quis egestas velit convallis ut. "
    }, {
    "id": 8,
    "url": "http://localhost:4000/la-izquierda-pierde-con-la-edad/",
    "title": "La izquierda pierde con la edad",
    "body": "2019/04/11 - Los resultados electorales de las √∫ltimas cuatro elecciones generales en Elche reflejan la influencia de la edad. Los votos, analizados por secciones censales, constatan que en las zonas con mayor presencia de j√≥venes, PSOE y Podemos obtienen mejores resultados que en las que reside una poblaci√≥n con mayor edad. Algo similar sucede en Ciudadanos, donde el a√±o de nacimiento de los ilicitanos ejerce una influencia todav√≠a mayor. En el PP, en cambio, sucede lo contrario: sus resultados mejoran cuando crece la edad de sus electores. 0-19 a√±os: Ciudadanos domina entre los padres con hijos a su cargo: Ciudadanos presenta la tendencia m√°s positiva al tener en cuenta la presencia de menores de 19 a√±os en las secciones censales de Elche. El partido naranja obtiene sus mejores resultados en las zonas en las que estos ni√±os y j√≥venes, la inmensa mayor√≠a dependientes econ√≥micamente de sus padres, suponen un mayor porcentaje de la poblaci√≥n. La l√≠nea del PSOE en estas zonas tambi√©n crece, aunque de manera menos evidente. Este apoyo fue mucho mayor en 2008, cuando la mayor parte de sus mejores resultados se produjeron en las secciones m√°s rejuvenecidas. La tendencia empez√≥ a revertirse en 2011 y cambi√≥ definitivamente en 2015, coincidiendo con el surgimiento de los nuevos partidos. Esta variable apenas influye en el voto de Podemos. En el del PP, en cambio, s√≠ se observa un claro descenso de sus resultados en las zonas con menor porcentaje de menores de 19 a√±os, especialmente a partir de 2011. 20-39 a√±os: el PSOE a√∫n seduce a los millenial: 40-59 a√±os: 60-79 a√±os: M√°s de 79 a√±os: "
    }];

var idx = lunr(function () {
    this.ref('id')
    this.field('title')
    this.field('body')

    documents.forEach(function (doc) {
        this.add(doc)
    }, this)
});
function lunr_search(term) {
    document.getElementById('lunrsearchresults').innerHTML = '<ul></ul>';
    if(term) {
        document.getElementById('lunrsearchresults').innerHTML = "<p>Search results for '" + term + "'</p>" + document.getElementById('lunrsearchresults').innerHTML;
        //put results on the screen.
        var results = idx.search(term);
        if(results.length>0){
            //console.log(idx.search(term));
            //if results
            for (var i = 0; i < results.length; i++) {
                // more statements
                var ref = results[i]['ref'];
                var url = documents[ref]['url'];
                var title = documents[ref]['title'];
                var body = documents[ref]['body'].substring(0,160)+'...';
                document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML = document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML + "<li class='lunrsearchresult'><a href='" + url + "'><span class='title'>" + title + "</span><br /><span class='body'>"+ body +"</span><br /><span class='url'>"+ url +"</span></a></li>";
            }
        } else {
            document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML = "<li class='lunrsearchresult'>No results found...</li>";
        }
    }
    return false;
}

function lunr_search(term) {
    $('#lunrsearchresults').show( 400 );
    $( "body" ).addClass( "modal-open" );
    
    document.getElementById('lunrsearchresults').innerHTML = '<div id="resultsmodal" class="modal fade show d-block"  tabindex="-1" role="dialog" aria-labelledby="resultsmodal"> <div class="modal-dialog shadow-lg" role="document"> <div class="modal-content"> <div class="modal-header" id="modtit"> <button type="button" class="close" id="btnx" data-dismiss="modal" aria-label="Close"> &times; </button> </div> <div class="modal-body"> <ul class="mb-0"> </ul>    </div> <div class="modal-footer"><button id="btnx" type="button" class="btn btn-danger btn-sm" data-dismiss="modal">Close</button></div></div> </div></div>';
    if(term) {
        document.getElementById('modtit').innerHTML = "<h5 class='modal-title'>Search results for '" + term + "'</h5>" + document.getElementById('modtit').innerHTML;
        //put results on the screen.
        var results = idx.search(term);
        if(results.length>0){
            //console.log(idx.search(term));
            //if results
            for (var i = 0; i < results.length; i++) {
                // more statements
                var ref = results[i]['ref'];
                var url = documents[ref]['url'];
                var title = documents[ref]['title'];
                var body = documents[ref]['body'].substring(0,160)+'...';
                document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML = document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML + "<li class='lunrsearchresult'><a href='" + url + "'><span class='title'>" + title + "</span><br /><small><span class='body'>"+ body +"</span><br /><span class='url'>"+ url +"</span></small></a></li>";
            }
        } else {
            document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML = "<li class='lunrsearchresult'>Sorry, no results found. Close & try a different search!</li>";
        }
    }
    return false;
}
    
$(function() {
    $("#lunrsearchresults").on('click', '#btnx', function () {
        $('#lunrsearchresults').hide( 5 );
        $( "body" ).removeClass( "modal-open" );
    });
});